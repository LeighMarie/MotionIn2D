<!DOCTYPE html>
<body>
	<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.2/raphael-min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<link rel="sylesheet" href="http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.2/jquery.min.css" />
    <link rel="stylesheet" href="motion2D.css" />
    <script src="motion2D.js"></script>
	<div id="container" class="column"></div>
    <div class="column" id="first">
        Motion Controls <div><button id="drag" class="optionControl">Manual (Drag)</button>
                        <button id="auto" class="optionControl">Automatic</button></div>
        <div id="legendV"> </div>  
        <div id="legendA"> </div> 
        <div id="second" class="maybeAppear"> 
        Automatic Motion Options <div><button id="linear" class="optionType">Linear</button>
                        <button id="harmonic" class="optionType">Harmonic</button>
                        <button id="circular" class="optionType">Circular</button></div>
                        <div id="extraOptions"> </div>
        </div>
        <div id="third" class="maybeAppear">
            <font color = "green">Velocity: <b id="numVelocity"> </b>  </font>
        </div>
        <div id="fourth" class="maybeAppear">
            <font color = "blue">Acceleration:  <b id="numAcceleration"> </b></font>
        </div>
    </div>
    <div id="graph">
       <canvas id="canvas" width="1000" height="600"></canvas>
    </div>
    <script type="text/javascript">    
        var motion2D = (function () {
            var input_field = $(.autoInput);   // example interaction: a single input field

            // return JSON representation to be used by server-side grader
            function getGrade() {
                return "no grade";
            }

            // return JSON representation of persistent state
            function getState() {
                // example: return value of input field
                var state = {};
                if (input_field) state.value = input_field.val();
                return JSON.stringify(state);
            }

            // process incoming state from jsinput framework
            // This function will be called with 1 argument when JSChannel is not used,
            // 2 otherwise. In the latter case, the first argument is a transaction 
            // object that will not be used here (see http://mozilla.github.io/jschannel/docs/)
            function setState() {
                var stateStr = arguments.length === 1 ? arguments[0] : arguments[1];
                // jsinput gets anxious if we don't respond quickly, so come back to
                // initialization after we've returned and made jsinput happy.
                setTimeout(function () { initialize(JSON.parse(stateStr)); },1);
            }

            // use provided state object to initialize demo state.  If state is undefined,
            // perform default initialization
            function initialize(state) {
                if (input_field) input_field.val(state.value);
            }

            return {
                // communication to/from edX jsinput framework
                getState: getState,
                setState: setState,
                getGrade: getGrade
            };

        }());
    </script>
</body>
